---
title: "Lab 11"
author: 'Blue Team: Matt Lawson,'
date: "4/5/2019"
output:
  html_document:
    df_print: paged
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse); library(babynames); library(forcats); library(stringr)
```

# About `babynames` package
  - Baby name data provided by the SSA (Social Security Administration)
  - Includes names with at least 5 uses
  - Includes year, sex, name, number of occurances, and prop
      - Prop = proportion of people of that sex with that name born in that year

```{r, include=F}
head(babynames, 2)
```

## Individual plots of your nameâ€™s popularity over time

```{r}

```








## Ariel and Rachel regexs

```{r}
ariel <- filter(babynames, str_detect(babynames$name, "Ar[iy]+.l+[^a]?$")) %>%
  filter(year==1973 | year==1988 | year==1990) %>%
  group_by(year, name) %>% summarize(count = sum(n), sumprop = sum(prop))
ariel1973 <- ariel %>% filter(year==1973) %>% nrow()
ariel1988 <- ariel %>% filter(year==1988) %>% nrow()
ariel1990 <- ariel %>% filter(year==1990) %>% nrow()
ariel

rachel <- filter(babynames, str_detect(babynames$name, "Ra[ey]?ch.*l")) %>%
  filter(year==1973 | year==1988 | year==1990) %>%
  group_by(year, name) %>% summarize(count = sum(n), sumprop = sum(prop))

rachel1973 <- rachel %>% filter(year==1973) %>% nrow()
rachel1988 <- rachel %>% filter(year==1988) %>% nrow()
rachel1990 <- rachel %>% filter(year==1990) %>% nrow()


arielRachel <- tribble(
  ~Name, ~Year, ~`Unique Spellings`,
  "Ariel", 1973, ariel1973,
  "Ariel", 1988, ariel1988,
  "Ariel", 1990, ariel1990,
  "Rachel", 1973, rachel1973,
  "Rachel", 1988, rachel1988,
  "Rachel", 1990, rachel1990
)

# arielRachel
```

```{r}



ariel <- filter(babynames, str_detect(babynames$name, "Ar[iy]+.l+[^a]?$")) %>%
  filter(sex=="F" & (year==2017 | year==1988 | year==1990)) %>%
  group_by(year) %>% summarize(count = sum(n), sumprop = sum(prop)) %>% mutate(name="Ariel")

rachel <- filter(babynames, str_detect(babynames$name, "Ra[ey]?ch.*l")) %>%
  filter(sex=="F" & (year==2017 | year==1988 | year==1990)) %>%
 group_by(year) %>% summarize(count = sum(n), sumprop = sum(prop)) %>% mutate(name="Rachel")



total <- ariel %>% rbind(rachel) %>% arrange(year)  %>% group_by(year) %>% summarize(totalProp = sum(sumprop))
total

```






## The _Little Mermaid_ Effect






## Your names

```{r}
Matt1 <- babynames %>% filter(year<=2017 & year>=1979) %>% 
  filter(str_detect(name, paste(c( "^Matthew$", "^Mathew$", "^Mat$", "^Matt$"),collapse = '|'))) %>%
  group_by(year) %>%
  summarize( name = "Matthew", totalProp = sum(prop))
mattBirthYear <- subset(Matt1, year == 1998)
ggplot() + 
  geom_bar(data = Matt1, mapping=aes(x=year, weight=totalProp), fill="orange", color="black") +
  geom_bar(dat=mattBirthYear, mapping=aes(x=year, weight=totalProp), fill="red", color="black") + 
  labs(title="Number of babies named 'Matt' from 1979-2017", y="number", caption="My birth year (1998) in red.")

```
