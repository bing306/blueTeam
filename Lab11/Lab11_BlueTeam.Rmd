---
title: "Lab 11"
author: 'Blue Team: Matt Lawson,'
date: "4/5/2019"
output:
  html_document:
    df_print: paged
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse); library(babynames); library(forcats); library(stringr)
```

# About `babynames` package
  - Baby name data provided by the SSA (Social Security Administration)
  - Includes names with at least 5 uses
  - Includes year, sex, name, number of occurances, and prop
      - Prop = proportion of people of that sex with that name born in that year

```{r, include=F}
head(babynames, 2)
```

## Individual plots of your nameâ€™s popularity over time

```{r}

```








## Ariel and Rachel regexs

```{r}
ariel <- filter(babynames, str_detect(babynames$name, "Ar[iy]+.l+[^a]?$")) %>%
  filter(year==1973 | year==1988 | year==1990) %>%
  group_by(year, name)#%>% summarize(count = sum(n), sumprop = sum(prop))# %>% mutate(name="Ariel")
ariel


# rachel <- filter(babynames, str_detect(babynames$name, "Ra[ey]?ch.*l")) %>%
#   filter(year==1973 | year==1988 | year==1990) %>%
#   group_by(year) %>% 
#   summarize(count = sum(n), sumprop = sum(prop)) %>% mutate(name="Ariel")
# 
# total <- ariel %>% rbind(rachel) %>% arrange(year)
# total
# 
# total %>% group_by(year) %>% summarize(totalProp = sum(sumprop))
```






## The _Little Mermaid_ Effect






## Your names

```{r}
Matt1 <- babynames %>% filter(year<=2017 & year>=1979) %>% 
  filter(str_detect(name, paste(c( "^Matthew$", "^Mathew$", "^Mat$", "^Matt$"),collapse = '|'))) %>%
  group_by(year) %>%
  summarize( name = "Matthew", totalProp = sum(prop))
mattBirthYear <- subset(Matt1, year == 1998)
ggplot() + 
  geom_bar(data = Matt1, mapping=aes(x=year, weight=totalProp), fill="orange", color="black") +
  geom_bar(dat=mattBirthYear, mapping=aes(x=year, weight=totalProp), fill="red", color="black") + 
  labs(title="Number of babies named 'Matt' from 1979-2017", y="number", caption="My birth year (1998) in red.")

```
